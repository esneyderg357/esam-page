if("undefined"==typeof jQuery)throw new Error("DjValidator requires jQuery 1.5.1 or higher.");!function(f){var l=[],o=["word","atext","antext","text","int","num","dig","file","efile","email","phone","url","regexp","equal","nequal","or","multi","call","radio","check","ip","ajax"],s=[function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");if("*"==t[2]){if(!new RegExp("^\\S{"+t[1]+",}$").test(r.val()))return c(r,u.word_min.replace("$1",t[1]),e),!1}else if(!new RegExp("^\\S{"+t[1]+","+t[2]+"}$").test(r.val()))return c(r,u.word_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");if("*"==t[2]){if(!new RegExp("^[a-záéíóúñçü ]{"+t[1]+",}$","i").test(r.val()))return c(r,u.atext_min.replace("$1",t[1]),e),!1}else if(!new RegExp("^[a-záéíóúñçü ]{"+t[1]+","+t[2]+"}$","i").test(r.val()))return c(r,u.atext_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");if("*"==t[2]){if(!new RegExp("^[a-z0-9áéíóúñçü ]{"+t[1]+",}$","i").test(r.val()))return c(r,u.antext_min.replace("$1",t[1]),e),!1}else if(!new RegExp("^[a-z0-9áéíóúñçü ]{"+t[1]+","+t[2]+"}$","i").test(r.val()))return c(r,u.antext_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r.val();if("*"==t[2]){if(a.length<t[1])return c(r,u.text_min.replace("$1",t[1]),e),!1}else if(a.length<t[1]||a.length>t[2])return c(r,u.text_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r.val();if(!/^[+-]?\d+$/.test(a))return c(r,u.int_invalid,e),!1;if("*"==t[1]){if("*"==t[2])return!0;if(parseInt(a)>t[2])return c(r,u.int_max.replace("$1",t[2]),e),!1}else if("*"==t[2]){if(parseInt(a)<t[1])return c(r,u.int_min.replace("$1",t[1]),e),!1}else if(parseInt(a)<t[1]||parseInt(a)>t[2])return c(r,u.int_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r.val();if(isNaN(a))return c(r,u.num_invalid,e),!1;if("*"==t[1]){if("*"==t[2])return!0;if(parseFloat(a)>t[2])return c(r,u.num_max.replace("$1",t[2]),e),!1}else if("*"==t[2]){if(parseFloat(a)<t[1])return c(r,u.num_min.replace("$1",t[1]),e),!1}else if(parseFloat(a)<t[1]||parseFloat(a)>t[2])return c(r,u.num_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r.val();if("*"==t[2]){if(!new RegExp("^\\d{"+t[1]+",}$").test(a))return c(r,u.dig_min.replace("$1",t[1]),e),!1}else if(!new RegExp("^\\d{"+t[1]+","+t[2]+"}$").test(a))return c(r,u.dig_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(!File)return console.error("The 'file' validator requires javascript file api, the field  '"+r.attr("name")+"' was ignored."),!0;if(t.length<5)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r[0].files;if("*"==t[2]){if(a.length<t[1])return c(r,u.file_min.replace("$1",t[1]),e),!1}else if(a.length<t[1]||a.length>t[2])return c(r,u.file_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;if(t[5]){var n=t[5].split("|"),l=0==n.length;for(i=0;i<a.length;i++){for(l=!1,j=0;j<n.length;j++)a[i].type==n[j]&&(l=!0);if(!l)break}if(!l)return c(r,u.file_format,e),!1}for(i=0;i<a.length;i++){if("*"!=t[3]&&a[i].size/1024<t[3])return c(r,u.file_min_size.replace("$1",t[3]),e),!1;if("*"!=t[4]&&a[i].size/1024>t[4])return c(r,u.file_max_size.replace("$1",t[4]),e),!1}return!0},function(e,r,t){if(t.length<2)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r.val(),n=!1,i=a.substring(a.lastIndexOf(".")+1,a.length).toLowerCase(),l=t[1].split("|");for(ifile=0;ifile<l.length;ifile++)if(i==l[ifile].toLowerCase()){n=!0;break}return!!n||(validas=r.data("dj-validator").substring(r.data("dj-validator").indexOf(",")+1),c(r,u.file_ext.replace("$1",validas.replace(/\|/g,",")),e),!1)},function(e,r,t){if(t.length<2)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");if(!/^([a-z0-9_.-])+@(([a-z0-9-])+.)+([a-z0-9])+$/i.test(r.val()))return c(r,u.email,e),!1;if("*"!=t[1]&&r.val().length>t[1])return c(r,u.email_max.replace("$1",t[1]),e),!1;return!0},function(e,r){return!!/^(\+?[0-9]{2,3}[- ]?)?[0-9]{5,12}$/.test(r.val())||(c(r,u.phone,e),!1)},function(e,r,t){if(t.length<2)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");if(!/^(https?|s?ftp)\:\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?$/.test(r.val()))return c(r,u.url,e),!1;if("*"!=t[1]&&r.val().length>t[1])return c(r,u.url_max.replace("$1",t[1]),e),!1;return!0},function(e,r,t){if(t.length<2)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");return t[1]=t[1].replace("°",","),!!(t[2]?new RegExp(t[1],t[2]):new RegExp(t[1])).test(r.val())||(c(r,u.regexp,e),!1)},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");return r.val()==f("#"+t[1]).val()||(c(r,u.equal.replace("$1",t[2]),e),!1)},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");return r.val()!=f("#"+t[1]).val()||(c(r,u.not_equal.replace("$1",t[2]),e),!1)},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");fs=f("input[data-dj-validator-group="+t[1]+"]");var a=!1,n=fs.length;for(i=0;i<n;i++)value=f(fs[i]).val(),null==value||""==value||/^\s+$/.test(value)||(a=!0);0==a&&c(r,u.or.replace("$1",t[2]),e);return a},function(e,r,t){if(t.length<3)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");var a=r.val();if("*"==t[2]){if(a.length<parseInt(t[1]))return c(r,u.multi_min.replace("$1",t[1]),e),!1}else if(a.length<parseInt(t[1])||a.length>parseInt(t[2]))return c(r,u.multi_between.replace("$1",t[1]).replace("$2",t[2]),e),!1;return!0},function(e,r,t){if(t.length<2)throw new Error("Error validating field '"+r.attr("name")+"', insufficient parameters.");return 0!=window[t[1]](r)||(c(r,u.call,e),!1)},function(e,r){var t=f("input[name="+r.attr("name")+"]");for(i=0;i<t.length;i++)if(f(t[i]).is(":checked"))return!0;return c(r,u.radio,e),!1},function(e,r,t){{if(t[1]){var a=f("input[data-dj-validator-group="+t[1]+"]"),n=0;for(i=0;i<a.length;i++)f(a[i]).is(":checked")&&n++;if("*"==t[3]){if(n<parseInt(t[2]))return c(r,u.check_multi_min.replace("$1",t[4]).replace("$2",t[2]),e),!1}else if(n<parseInt(t[2])||n>parseInt(t[3]))return c(r,u.check_multi_between.replace("$1",t[4]).replace("$2",t[2]).replace("$3",t[3]),e),!1;return!0}if(!r.is(":checked"))return c(r,u.check_single,e),!1}return!0},function(e,r,t){var a=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,n=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])$/;if(t[1])if("v6"==t[1]){if(!a.test(r.val()))return c(r,u.ip.replace("$1","IPv6"),e),!1}else{if("v4"!=t[1])throw new Error("Error validating field '"+r.attr("name")+"', invalid ip option.");if(!n.test(r.val()))return c(r,u.ip.replace("$1","IPv4"),e),!1}else if(!a.test(r.val())&&!n.test(r.val()))return c(r,u.ip.replace("$1","IP"),e),!1;return!0},function(t,a,e,n){if(e.length<2)throw new Error("Error validating field '"+a.attr("name")+"', insufficient parameters.");c(a,u.ajax_validating,t);var i=f.ajax({url:e[1],type:f.fn.djValidator.props.request_method,dataType:"json",data:{value:a.val()}}).done(function(e){d(a,t),0==e.valid&&c(a,e.message?r.message:u.ajax,t)}).fail(function(){d(a,t),c(a,u.ajax_fail,t)});n||l.push(i);return null}],u={required:"Required field.",word_min:"At least $1 characters with no spaces.",word_between:"Between $1 and $2 characters with no spaces.",atext_min:"At least $1 alphabetic characters.",atext_between:"Between $1 and $2 alphabetic characters.",antext_min:"At least $1 alphabetic characters or digits.",antext_between:"Between $1 and $2 alphabetic characters or digits.",text_min:"At least $1 characters.",text_between:"Between $1 and $2 characters.",int_invalid:"Invalid integer.",int_min:"The number must be greater than or equal to $1.",int_max:"The number must be less than or equal to $1",int_between:"The number must be between $1 and $2.",num_invalid:"Invalid real number.",num_min:"The number must be greater than or equal to $1.",num_max:"The number must be less than or equal to $1",num_between:"The number must be between $1 and $2.",dig_min:"At least $1 digits.",dig_between:"Between $1 and $2 digits.",file_min:"Select at least $1 files.",file_between:"Select between $1 and $2 files.",file_format:"Invalid file type.",file_min_size:"Files must be larger than $1 kb in size.",file_max_size:"Files must be less than $1 kb. in size",file_ext:"Valid file extensions: $1.",email:"Invalid email.",email_max:"Email must be less than $1 characters.",phone:"Invalid phone number.",url:"Invalid url.",url_max:"URL must be less than $1 characters",ip:"Invalid $1 address",regexp:"Invalid value.",or:"$1: At least one of these fields is required.",equal:"Must be equal to: $1.",not_equal:"Must be different from: $1.",multi_min:"Select at least $1 options",multi_between:"Select from $1 to $2 options.",call:"Invalid value.",radio:"Check an option.",check_single:"Check this option.",check_multi_min:"$1: Check at least $2 options.",check_multi_between:"$1: Check from $2 to $3 options.",ajax:"Rejected value.",ajax_validating:"Field is validating, please wait...",ajax_fail:"Error, could not be validated."};function c(e,r,t){var a=e.data("dj-validator-msg");a&&(r=a),$new=f(t.template.replace("$style",t.style).replace("$msg",r));var n=e.attr("type"),i=e.is(":visible"),l=e.data("input-group");n&&("radio"==n||"checkbox"==n)||!i||l?($new.appendTo(e.parent()),alert("on parent: "+e.parent().html())):$new.insertAfter(e),1==t.decorate&&e.css("border-color",t.border_color),$new.fadeIn(1500)}function d(e,r){e.parent().find(".dj-validator-msg").remove(),1==r.decorate&&e.css("border-color","")}function n(e,r){e.find(".dj-validator-msg").remove(),1==r.decorate&&e.find(":input").css("border-color","")}function p(){l=[]}function m(e,r,t){d(e,r);var a=!0;if(function(e){if(e.data("dj-validator-group"))return!0;var r=e.val();return null!=r&&""!=r&&!/^\s+$/.test(r)}(e)){var n=e.data("dj-validator");if(n){var i=n.split("&");for(j=0;j<i.length;j++){var l=i[j].split(","),f=o.indexOf(l[0]);if(-1==f)throw new Error("'"+l[0]+"' is not a valid DjValidator key.");prev=s[f](r,e,l,t),a=null==prev?null:1==prev?a:null==a&&a}}}else null!=e.attr("required")&&(c(e,u.required,r),a=!1);return a}function h(e,t){var a=!0;return n(e,t),p(),e.find(":input").each(function(e,r){resp=m(f(r),t),0==e&&0==resp&&f(r).focus(),a=1==resp?a:0!=resp&&a}),0<l.length?(function(t,a,n){f.when.apply(f,l).done(function(){var e=!0,r=arguments;if(1==l.length)e=r[0].valid;else for(i=0;i<l.length;i++)e=1==r[i][0].valid&&e;p(),1==a&&1==e&&n.success(t)}).fail(function(){p()})}(e,a,t),null):a}function v(e,t){e.find(":input").each(function(e,r){f(r).blur(function(){m(f(this),t,!0)})})}f.fn.djValidator=function(e){var a=f.extend({},f.fn.djValidator.props,e);switch(a.mode){case"submit":return this.each(function(e,r){if(obj=f(r),obj.is("form")){var t=obj;t.attr("novalidate","novalidate"),t.submit(function(e){if(1==h(t,a))return a.success(t);e.preventDefault()}),1==a.blur&&v(t,a)}else if(obj.is("input"))return m(obj,a,!0)});case"function":if($form=f(this),1!=$form.length)throw new Error("function mode requires a one form selection.");return $form.attr("novalidate","novalidate"),$form.is("form")?h($form,a):null;case"clean":return this.filter("form").each(function(){n(f(this),a)});case"blur":return this.filter("form").each(function(){v(f(this),a)});default:throw new Error("Invalid mode for DjValidator, only: submit, function, blur and clean is valid modes.")}return this},f.fn.djValidator.props={mode:"submit",blur:!0,decorate:!0,border_color:"red",style:"display:none; color:red; text-align:inherit; font:italic bold .9em sans-serif",template:'<p class="dj-validator-msg" style="$style">$msg</p>',request_method:"post",success:function(e){return!0}},f.fn.djValidator.add=function(e,a,n){o.push(e),s.push(function(e,r,t){return 0!=n(r,t)||(c(r,a,e),!1)})},f.fn.djValidator.setLabels=function(e){u=f.extend({},u,e)}}(jQuery);